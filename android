---
tags: [android, adb]
---
# enter system setting
adb shell am start -n com.android.settings/com.android.settings.Settings

# enter ehome setting 
adb shell am start com.ehome.settings/.develop.DevelopActivity

# set ehome environment
adb shell setprop persist.vendor.ehome.enviroment qa

# monitor cpu frequency and temperature
watch -n 3 "cat /sys/class/thermal/thermal_zone0/temp && cat /sys/devices/system/cpu/cpu[0-3]/cpufreq/scaling_cur_freq"

# monitor kernel dmesg
watch -n 2  "dmesg |grep usb"

# ehome setting app
adb install -r -t EHomeSettings_V1.0_20211220_studio_debug.apk

# get pcakge name by apk file
aapt.exe  dump badging  D:\company\project\firefly\Application\Android_sdk_demo_V5.2\PrintDemoV5.2.apk

# grep package name
pm list package |grep package's name

# grep activy with package
dumpsys package | grep -i package's name | grep Activity

# allow develop mode
adb shell settings put secure user_setup_complete 1
adb shell settings put global device_provisioned 1

# list service
service list |grep Alarm

# enter sleep mode
input keyevent 26

# get build variable
get_build_var TARGET_BUILD_VARIANT
get_build_var TARGET_PRODUCT

# change lcd density
adb shell wm density 320

# monitor input event
getevent -l

# list all installed packages
adb shell pm list packages 

# get top activity
adb shell dumpsys activity top | grep ACTIVITY

# access mem
io -c 4 -l 4 0x

# cross compile application for android
CC=aarch64-linux-android30-clang  ./configure --host=aarch64-linux-android --enable-tools --prefix=/tmp/gpio
make ARCH=arm64 CC=aarch64-linux-android30-clang CROSS_COMPILE=aarch64-linux-android-

# upload bugly so symbol information
java -jar buglyqq-upload-symbol.jar -appid xxx -appkey xxx  -bundleid xcg.ehomepoct.io.zzcapp -version 1.2.4 -platform Android -inputSymbol D:\code\app\ehome\ehdriver\hardware\build\intermediates\cmake\debug\obj\armeabi-v7a

# use ndk-stack trace crash
adb logcat |ndk-stack.cmd -sym .\arm64-v8a\
